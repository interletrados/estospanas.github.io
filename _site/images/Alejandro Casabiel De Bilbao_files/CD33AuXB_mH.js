if (self.CavalryLogger) { CavalryLogger.start_js(["\/78AJ"]); }

__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"};}),null);
__d("VideoHomeEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",UNIT_PREFETCH:"unit_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",MARK_DATA_DIRTY:"mark_data_dirty",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss",VIDEO_JEWEL_IMPRESSION:"video_jewel_impression"};}),null);
__d("VideoHomeEventTargets",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",NONE:"none"};}),null);
__d("VideoHomeExitPointTypes",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"};}),null);
__d("VideoHomeLoggerFields",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CASTING_DEVICE_TYPE:"casting_device_type",CHANNEL_ID:"channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components"};}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};}),null);
__d("VideoPlayerLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAROUSEL_CHANGE:"carousel_change",CLICK:"click",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",TOGGLE_SUBTITLE_OFF:"toggle_subtitle_off",TOGGLE_SUBTITLE_ON:"toggle_subtitle_on",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",PLAYER_WARNING:"player_warning",NETWORK_TIMEOUT:"network_timeout",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",HEADING_RESET:"heading_reset",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited"};}),null);
__d("VideoPlayerLoggerSource",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",OFFERS_DETAIL:"offers_detail",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_TV:"video_tv",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured",SLIDESHOW:"slideshow",LIVE_MAP:"live_map",LIVE_MAP_INLINE:"live_map_inline"};}),null);
__d("VideoPlayerVersions",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",MBASIC:"mbasic",CHROMECAST:"chromecast",CASTING_DEBUG:"casting_debug",UNKNOWN:"unknown"};}),null);
__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={orderedValues:["sd","hd","uhd"]};}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;}),null);
__d('VideoChannelViewChainLengthManager',['guid'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){'use strict';this.$VideoChannelViewChainSession1=c('guid')();this.$VideoChannelViewChainSession2=0;this.$VideoChannelViewChainSession3=k;this.$VideoChannelViewChainSession4={};this.$VideoChannelViewChainSession4[k]=0;this.$VideoChannelViewChainSession5=k;}h.prototype.registerVideoID=function(k){'use strict';if(this.$VideoChannelViewChainSession4[k]===undefined){this.$VideoChannelViewChainSession2++;this.$VideoChannelViewChainSession4[k]=this.$VideoChannelViewChainSession2;}this.$VideoChannelViewChainSession5=k;};h.prototype.getSessionID=function(){'use strict';return this.$VideoChannelViewChainSession1;};h.prototype.getCurrentChainLength=function(){'use strict';return this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]!==undefined?this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]:null;};var i={},j={_ensureSessionID:function k(l){l=l.toString();if(!i[l])i[l]=new h(l);},getLoggingData:function k(l){if(l)l=l.toString();var m=i&&i[l];if(!m)return {video_chaining_depth_level:null,video_chaining_session_id:null};return {video_chaining_depth_level:m.getCurrentChainLength(),video_chaining_session_id:m.getSessionID()};},registerChainingInfos:function k(l,m){var n=l;if(m){var o=m.decode();n=o.root_id;}if(n)n=n.toString();this.registerVideoID(n,l);},registerVideoID:function k(l,m){l=l.toString();this._ensureSessionID(l);i[l].registerVideoID(m);}};f.exports=j;}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i=null,j=null,k=null,l=0,m=null,n={startSession:function o(p,q,r){i=q;k=r;j=p;c('Arbiter').inform('LogEnterChannel',q);c('VideoChannelViewChainLengthManager').registerVideoID(p,p);var s={};s[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;n.log(s);h=Date.now();c('Run').onLeave(n.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,n.endSession);},endSession:function o(){if(i){c('Arbiter').inform('LogExitChannel',i);var p={};p[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;n.log(p);i=null;j=null;k=null;m=null;h=0;}},setOffset:function o(p){l=p;},setPosition:function o(p){m=p;},getPlayerLoggingData:function o(){if(!i)return {};return {video_channel_id:i,position_in_channel:m+l};},log:function o(p){var q=c('VideoChannelViewChainLengthManager').getLoggingData(j);p[c('VideoChannelLoggerFields').SESSION_ID]=q.video_chaining_session_id;p[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=i;p[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=k;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in p))p[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=m+l;if(h){var r=Date.now()-h;p[c('VideoChannelLoggerFields').TIME_SINCE_START]=r+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',p);}};f.exports=n;}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('VideoQualityClassInternal').orderedValues;}),null);
__d('logVideosClickTracking',['clickRefAction'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){c('clickRefAction')('click',i,null,'FORCE');}f.exports=h;}),null);
__d('VideoWithClickPlayPause',['VideoPlayerReason','logVideosClickTracking'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$VideoWithClickPlayPause1=i;this.$VideoWithClickPlayPause2=this.$VideoWithClickPlayPause1.getVideoNode();this.$VideoWithClickPlayPause1.addListener('clickVideo',this.$VideoWithClickPlayPause3.bind(this));if(this.$VideoWithClickPlayPause1.hasSeenClick())this.$VideoWithClickPlayPause3();}h.prototype.$VideoWithClickPlayPause3=function(){'use strict';if(this.$VideoWithClickPlayPause1.isState('playing')){if(this.$VideoWithClickPlayPause1.getOption('VideoWithLiveBroadcast','isLive'))return;this.$VideoWithClickPlayPause1.pause(c('VideoPlayerReason').USER);}else{c('logVideosClickTracking')(this.$VideoWithClickPlayPause2);this.$VideoWithClickPlayPause1.play(c('VideoPlayerReason').USER);}};f.exports=h;}),null);
__d('VideoPlayerApiEvents',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd','streamInterrupted','streamResumed','debug/shakaEvent'];f.exports=h;}),null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents','arrayContains'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m);};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m);};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict';};k.isImplementationUnavailable=function(){'use strict';return true;};f.exports=k;}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){Object.assign(this,i);}f.exports=h;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=-1;function i(k,event){var l=event.timeStamp;if(l){var m=l.toString().length-Date.now().toString().length;if(m!==0)l=Math.round(l/Math.pow(10,m));k.time_ms=l;}else k.time_ms=Date.now();return k;}var j={initLogger:function k(l,m){this._loggedEvents={};this._logFunction=l;this._useEventTime=m;var n=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(n);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=n.volume;this._lastPlayedTime=h;var o=false;if(n.readyState>=n.HAVE_FUTURE_DATA){this._logReadyToPlay();}else o=true;if(this.skipSubscriptions())return;var p=this.getSubscriptions();if(o)p.addSubscriptions(c('EventListener').listen(n,'canplay',this._logReadyToPlay.bind(this)));p.addSubscriptions(c('EventListener').listen(n,'ended',this.onEnded.bind(this)),c('EventListener').listen(n,'pause',this.onPause.bind(this)),c('EventListener').listen(n,'playing',this.onPlaying.bind(this)),c('EventListener').listen(n,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(n,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(n,'play',this.onPlay.bind(this)),c('EventListener').listen(n,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(n,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(n,'volumechange',this.onVolumeChange.bind(this)),c('EventListener').listen(n,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function k(){return false;},onCanPlay:function k(l){this._logReadyToPlay(l);},onPlay:function k(l){this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function k(event,l){if(this._loggedEvents[event])return;this._logEvent(event,l);},_logEvent:function k(event,l){this._loggedEvents[event]=true;var m=l?l:{};m.video_id=this.getVideoID();if(!m.hasOwnProperty('video_time_position'))m.video_time_position=this._getVideoCurrentTime();if(!m.time_ms)m.time_ms=Date.now();m.time=Math.round(m.time_ms/1000);if(this.getAdClientToken){var n=this.getAdClientToken();if(n)m.ad_client_token=n;}if(this.getPlayerFormat)m.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)m.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)m.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,m);},_logReadyToPlay:function k(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function k(l){var m=this.getVideoElement();if(this._pendingPlayRequest){var n={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,n);return;}var event=m.ended?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,o=this._getVideoCurrentTime();if(o)this._lastPlayedTime=o;var p=this._lastPlayedTime,q=l.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){p=Math.max(p,m.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)q=q||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:p,debug_reason:q},l));this._lastStartTimePosition=h;},onEnded:function k(){if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},onRepresentationEnded:function k(l){var m=l.detail;if(m){var n={representation_id:m.representationID,next_representation_id:m.nextRepresentationID,stream_switch_reason:m.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var o=this.getVideoElement();this._lastPlayedTime=this._getVideoCurrentTime();var p=this._lastPlayedTime;n=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:p},n),l);}this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,n);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var q=this._getVideoCurrentTime();this._lastStartTimePosition=q;this._lastPlayedTime=q;}}},addWatchTimeData:function k(l){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){l.video_last_start_time_position=this._lastStartTimePosition;l.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return l;},getLastPlayReason:function k(){return null;},getVideoPlayReason:function k(){return null;},onPlaying:function k(l){if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var m=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,n=this._amendEventTime({debug_reason:m,video_play_reason:this.getVideoPlayReason()},l),o=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var p=this.getVideoElement().currentTime,q=p-o;n.time_ms-=Math.round(q*1000);}this._logEvent(event,n);this._lastStartTimePosition=o;this._lastPlayedTime=o;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function k(){this._allowNextSeek=true;},onSeeked:function k(l){this._seeking=false;var m=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var n={video_seek_source_time_position:m};if(this._lastStartTimePosition!==h){n.video_last_start_time_position=this._lastStartTimePosition;}else n.video_last_start_time_position=m;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(n,l));var o=this.getVideoElement();if(o.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function k(l){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function k(l){this._currentTimeAtLoadedMetadataCache=null;var m=this.getVideoElement();if(!m.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function k(l){var m=this.getVideoElement(),n={},event=null;if(m.muted!==this._muted&&m.volume===this._volume&&m.volume>0){event=m.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=m.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;n.current_volume=Math.round(m.volume*100);}this._logEvent(event,this._amendEventTime(n,l));this._muted=m.muted;this._volume=m.volume;},_amendEventTime:function k(l,event){if(this._useEventTime){return i(l,event);}else l.time_ms=Date.now();return l;},_getVideoCurrentTime:function k(){if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)return this._currentTimeAtLoadedMetadataCache.toFixed(2);return this.getVideoElement().currentTime.toFixed(2);},onLoadedMetadata:function k(l){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=j;}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;}),null);
__d('VideoMimeTypes',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;}),null);
__d('canVideoPlayType',['DOM'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j);}f.exports=i;}),null);
__d('forwardEvent',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){!(k instanceof window.HTMLMediaElement)?h(0):void 0;if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(l){}if(i.currentTime){var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var n=c('EventListener').listen(i,'seeked',function(){n.remove();k&&k();});});}f.exports=h;}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});}),null);
__d('VideoPlayerHTML5Api',['cx','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','MediaBufferingDetector','Run','SubscriptionsHandler','VideoData','VideoMimeTypes','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoQualityClasses','canVideoPlayType','dispatchCustomEvent','dispatchEvent','classWithMixins','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','supportsHTML5Video'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();function k(o){switch(o){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function l(o){switch(o){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+o+' is unknown';}}var m=-1;i=babelHelpers.inherits(n,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function n(o,p){'use strict';j.constructor.call(this);this.$VideoPlayerHTML5Api26=o;this.$VideoPlayerHTML5Api10=this.$VideoPlayerHTML5Api26.id;var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api26);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api37=q.width;this.$VideoPlayerHTML5Api9=q.height;if(p){this.$VideoPlayerHTML5Api5=p;}else this.$VideoPlayerHTML5Api5=JSON.parse(this.$VideoPlayerHTML5Api26.getAttribute('data-config'));this.$VideoPlayerHTML5Api4=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api4.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api38();}.bind(this));this.$VideoPlayerHTML5Api4.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api39();}.bind(this));this.$VideoPlayerHTML5Api17=m;this.$VideoPlayerHTML5Api19=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api23=false;this.$VideoPlayerHTML5Api2=false;this.$VideoPlayerHTML5Api25=this.$VideoPlayerHTML5Api26.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api34=false;if(this.$VideoPlayerHTML5Api5.lazyPreload)if(this.$VideoPlayerHTML5Api5.onafterloadRegister){c('Run').onAfterLoad(function(){return (this.$VideoPlayerHTML5Api26.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload));}.bind(this));}else this.$VideoPlayerHTML5Api26.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload);this.$VideoPlayerHTML5Api7=this.$VideoPlayerHTML5Api5.disableNativeControls;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api5.subtitlesActive;this.$VideoPlayerHTML5Api40();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api30=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api41();this.$VideoPlayerHTML5Api13=this.$VideoPlayerHTML5Api5.useRateLimited;var r=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api5.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api5.minQuality)>=r;this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api5.minQuality;this.$VideoPlayerHTML5Api21=this.$VideoPlayerHTML5Api5.maxQuality;this.$VideoPlayerHTML5Api3=this.$VideoPlayerHTML5Api5.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api42.bind(this),this.$VideoPlayerHTML5Api5.useEventTime);this.$VideoPlayerHTML5Api43();if(this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical)this.$VideoPlayerHTML5Api44();this.$VideoPlayerHTML5Api24=null;}n.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api5.ad_client_token;};n.prototype.$VideoPlayerHTML5Api38=function(){'use strict';this.emit('buffering');};n.prototype.$VideoPlayerHTML5Api39=function(){'use strict';this.emit('buffered');};n.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api6)return this.$VideoPlayerHTML5Api6.getVideoID();return this.$VideoPlayerHTML5Api5.video_id;};n.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api26;};n.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api26;};n.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api30;};n.onImplementationReady=function(o,p){'use strict';if(c('VideoPlayerHTML5Experiments').useSynchronousImplementationReady){p();}else c('setImmediate')(p);};n.prototype.destroy=function(){'use strict';this.$VideoPlayerHTML5Api45();if(this.$VideoPlayerHTML5Api46)c('DOM').remove(this.$VideoPlayerHTML5Api46);if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.destroy();};n.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api6)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api6.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api11,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api27?'DASH manifest':this.$VideoPlayerHTML5Api47(),hasSubtitles:this.$VideoPlayerHTML5Api6.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api6.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api13,projection:this.$VideoPlayerHTML5Api48(),tagSD:this.$VideoPlayerHTML5Api6.getSDTag(),tagHD:this.$VideoPlayerHTML5Api6.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api6.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api6.getLiveManifestUrl()};};n.isImplementationUnavailable=function(o){'use strict';if(o){var p=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);if(c('VideoPlayerHTML5Experiments').relaxedCanPlay)return p!=='probably'&&p!=='maybe';return p!=='probably';}return !c('supportsHTML5Video')();};n.prototype.pause=function(o){'use strict';this.$VideoPlayerHTML5Api15=o;if(o==='unloaded'&&!this.$VideoPlayerHTML5Api49()){this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api50();if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.pause();}else this.$VideoPlayerHTML5Api26.pause();};n.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api25){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api51();this.$VideoPlayerHTML5Api25=true;this.$VideoPlayerHTML5Api26.setAttribute('preload','auto');}};n.prototype.play=function(o){'use strict';if(!this.$VideoPlayerHTML5Api33)this.$VideoPlayerHTML5Api33=o;this.$VideoPlayerHTML5Api16=o;if(!this.$VideoPlayerHTML5Api49()){this.$VideoPlayerHTML5Api52();return;}this.$VideoPlayerHTML5Api23=true;if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'play');this.$VideoPlayerHTML5Api51();this.$VideoPlayerHTML5Api2=true;return;}this.$VideoPlayerHTML5Api53();};n.prototype.$VideoPlayerHTML5Api50=function(){'use strict';if(this.$VideoPlayerHTML5Api2&&this.$VideoPlayerHTML5Api26.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'pause');this.$VideoPlayerHTML5Api54();};n.prototype.$VideoPlayerHTML5Api54=function(){'use strict';this.$VideoPlayerHTML5Api23=false;this.$VideoPlayerHTML5Api2=false;};n.prototype.$VideoPlayerHTML5Api55=function(){'use strict';this.$VideoPlayerHTML5Api26.setAttribute('preload','auto');this.$VideoPlayerHTML5Api25=true;this.$VideoPlayerHTML5Api26.load();this.$VideoPlayerHTML5Api26.muted=this.$VideoPlayerHTML5Api19;};n.prototype.seek=function(o){'use strict';this.allowNextSeekInMixin();this.$VideoPlayerHTML5Api26.currentTime=o;};n.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56jt");this.$VideoPlayerHTML5Api26.style.marginLeft='';this.$VideoPlayerHTML5Api26.style.marginTop='';this.$VideoPlayerHTML5Api26.style.width='';this.$VideoPlayerHTML5Api26.style.height='';};n.prototype.applyRotation=function(o){'use strict';if(!o)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56jr",o==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56js",o==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56jt",o==270);if(o==180)return;var p=this.$VideoPlayerHTML5Api9,q=this.$VideoPlayerHTML5Api37,r=(p-q)/2,s=(q-p)/2;this.$VideoPlayerHTML5Api26.style.marginLeft=s+'px';this.$VideoPlayerHTML5Api26.style.marginTop=r+'px';this.$VideoPlayerHTML5Api26.style.height=q+'px';this.$VideoPlayerHTML5Api26.style.width=p+'px';};n.prototype.switchVideo=function(o){'use strict';if(!this.$VideoPlayerHTML5Api5.videoData||this.$VideoPlayerHTML5Api5.videoData.length<=o)return;var p=new (c('VideoData'))(this.$VideoPlayerHTML5Api5.videoData[o]);this.$VideoPlayerHTML5Api6=p;if((p.hasDashManifest()||p.isLiveStream())&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka.isSupported()){this.$VideoPlayerHTML5Api4.destroy();var q,r;if(p.isLiveStream()){r=p.getLiveManifestUrl();}else q=p.getDashManifest();var s=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api26,p.getDashPrefetchedRepresentationIDs(),{minPlayQuality:this.$VideoPlayerHTML5Api20,maxPlayQuality:this.$VideoPlayerHTML5Api21,width:this.$VideoPlayerHTML5Api37,height:this.$VideoPlayerHTML5Api9,manifest:q,manifestUrl:r,isLive:p.isLiveStream(),videoID:this.getVideoID()});s.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api38();}.bind(this));s.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api39();}.bind(this));s.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));s.addListener('streamInterrupted',function(){return this.emit('streamInterrupted');}.bind(this));s.addListener('streamResumed',function(){return this.emit('streamResumed');}.bind(this));s.addListener('adaptation',function(t){var u=t.reason;this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:u});this.emit('qualityChange');}.bind(this));s.addListener('representation_ended',function(t){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Api26,'representationended',t);}.bind(this));s.addListener('debug/shakaEvent',function(t){return this.emit('debug/shakaEvent',t);}.bind(this));s.addListener('error',function(t){return this.$VideoPlayerHTML5Api56(t);}.bind(this));this.$VideoPlayerHTML5Api27=s;this.$VideoPlayerHTML5Api8.remove();}else this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.removeSubtitles();if(p.hasSubtitles())c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles"],function(t){if(!this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31=new t(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api31.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api57();}.bind(this));this.$VideoPlayerHTML5Api31.registerDrawer(this.$VideoPlayerHTML5Api5.subtitleDrawer);}this.$VideoPlayerHTML5Api31.loadSubtitles(p.getSubtitlesSrc());}.bind(this),'VideoPlayerHTML5Api');this.removeRotation();this.applyRotation(p.getRotation());};n.prototype.switchToStreamType=function(o){'use strict';};n.prototype.replaceVideoDataFromURL=function(o){'use strict';};n.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};n.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api19=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api26.muted=false;};n.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api19=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api26.muted=true;};n.prototype.setRotation=function(o){'use strict';this.removeRotation();this.applyRotation(o);};n.prototype.setDimensions=function(o,p){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api37=o;this.$VideoPlayerHTML5Api9=p;this.applyRotation(this.$VideoPlayerHTML5Api6.getRotation());if(this.$VideoPlayerHTML5Api29)this.$VideoPlayerHTML5Api29.updateDimensions(o,p);if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setDimensions(o,p);if(this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api27.setDimensions(o,p);if(this.$VideoPlayerHTML5Api31)this.$VideoPlayerHTML5Api31.setDimensions(o);};n.prototype.$VideoPlayerHTML5Api58=function(){'use strict';this.$VideoPlayerHTML5Api26.controls=!this.$VideoPlayerHTML5Api7;};n.prototype.$VideoPlayerHTML5Api40=function(){'use strict';this.$VideoPlayerHTML5Api26.controls=this.$VideoPlayerHTML5Api26.controls&&!this.$VideoPlayerHTML5Api7;};n.prototype.$VideoPlayerHTML5Api41=function(){'use strict';this.$VideoPlayerHTML5Api8=c('EventListener').listen(this.$VideoPlayerHTML5Api26,'error',this.$VideoPlayerHTML5Api59.bind(this));this.$VideoPlayerHTML5Api30.addSubscriptions(this.$VideoPlayerHTML5Api8,c('EventListener').listen(this.$VideoPlayerHTML5Api26,'playing',this.$VideoPlayerHTML5Api60.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'play',this.$VideoPlayerHTML5Api52.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'ended',this.$VideoPlayerHTML5Api61.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'waiting',this.$VideoPlayerHTML5Api62.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'pause',this.$VideoPlayerHTML5Api63.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'volumechange',this.$VideoPlayerHTML5Api64.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'mousedown',this.$VideoPlayerHTML5Api65.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'mouseup',this.$VideoPlayerHTML5Api66.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'timeupdate',this.$VideoPlayerHTML5Api67.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'click',this.$VideoPlayerHTML5Api68.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'loadedmetadata',this.$VideoPlayerHTML5Api69.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'progress',this.$VideoPlayerHTML5Api70.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'seeked',this.$VideoPlayerHTML5Api71.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api26.parentNode,'pause',this.$VideoPlayerHTML5Api72.bind(this)));if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api30.addSubscriptions(this.$VideoPlayerHTML5Api28.getSubscriptions());};n.prototype.$VideoPlayerHTML5Api72=function(o){'use strict';if(o.target!==this.$VideoPlayerHTML5Api26)return;if(!this.$VideoPlayerHTML5Api26.ended){if(this.$VideoPlayerHTML5Api15==='unloaded'){this.preventPauseLoggingInMixin=false;o.preventDefault();o.stopPropagation();}o.lastPauseReason=this.$VideoPlayerHTML5Api15;}};n.prototype.$VideoPlayerHTML5Api70=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered,p=0,q=0,r=o.length;while(r-->0){var s=o.end(r),t=o.start(r);if(t<=this.$VideoPlayerHTML5Api26.currentTime){q=t;p=s-t;break;}}this.$VideoPlayerHTML5Api43();this.$VideoPlayerHTML5Api73('flash/updateBuffer',{duration:p,offset:q});};n.prototype.$VideoPlayerHTML5Api43=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api22);if(this.$VideoPlayerHTML5Api26.networkState===this.$VideoPlayerHTML5Api26.NETWORK_LOADING)this.$VideoPlayerHTML5Api22=setTimeout(function(){return this.$VideoPlayerHTML5Api74();}.bind(this),n.networkTimeout);};n.prototype.$VideoPlayerHTML5Api74=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered,p=0;for(var q=0;q<o.length;q++){var r=o.start(q),s=o.end(q);p+=s-r;}this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:p});};n.prototype.$VideoPlayerHTML5Api67=function(){'use strict';var o;if(this.$VideoPlayerHTML5Api1){o=this.$VideoPlayerHTML5Api1.currentTime;}else o=this.$VideoPlayerHTML5Api26.currentTime;this.$VideoPlayerHTML5Api73('flash/updateStatus',{position:+o.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api68=function(o){'use strict';if(o.button!==0)return;this.emit('clickVideo');o.preventDefault();};n.prototype.$VideoPlayerHTML5Api49=function(){'use strict';return this.$VideoPlayerHTML5Api26.paused;};n.prototype.$VideoPlayerHTML5Api75=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered;return (o.length>0&&o.start(0)===0&&o.end(0)===this.$VideoPlayerHTML5Api26.duration);};n.prototype.$VideoPlayerHTML5Api62=function(){'use strict';if(!this.$VideoPlayerHTML5Api75()){this.$VideoPlayerHTML5Api36=true;this.$VideoPlayerHTML5Api73('flash/buffering');}};n.prototype.setVolume=function(o){'use strict';this.$VideoPlayerHTML5Api26.volume=o;};n.prototype.$VideoPlayerHTML5Api64=function(){'use strict';if(this.$VideoPlayerHTML5Api26.muted!==this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api26.volume===this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api26.volume>0){this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api26.muted;this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;if(!this.$VideoPlayerHTML5Api26.muted){this.$VideoPlayerHTML5Api73('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api73('flash/muteVideo');}else{this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api26.muted;this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;this.$VideoPlayerHTML5Api73('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api26.volume});}if(!this.$VideoPlayerHTML5Api26.muted)this.$VideoPlayerHTML5Api73('flash/turnOffAutoplay',{reason:'unmuted'});};n.prototype.$VideoPlayerHTML5Api65=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api18=true;};n.prototype.$VideoPlayerHTML5Api66=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api18=false;};n.prototype.$VideoPlayerHTML5Api60=function(){'use strict';if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36=false;this.$VideoPlayerHTML5Api73('flash/buffered');}};n.prototype.$VideoPlayerHTML5Api52=function(){'use strict';this.$VideoPlayerHTML5Api11=true;this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api76();this.$VideoPlayerHTML5Api73('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api26.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api16});this.$VideoPlayerHTML5Api43();};n.prototype.$VideoPlayerHTML5Api63=function(){'use strict';if(this.$VideoPlayerHTML5Api26.ended){this.$VideoPlayerHTML5Api11=false;return;}if(this.$VideoPlayerHTML5Api26.seeking&&this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api18)return;if(this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api15=null;return;}if(this.$VideoPlayerHTML5Api15===null||this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api73('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api11=false;this.$VideoPlayerHTML5Api40();this.$VideoPlayerHTML5Api73('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api26.currentTime.toFixed(2)});};n.prototype.$VideoPlayerHTML5Api61=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api40();this.$VideoPlayerHTML5Api11=false;this.$VideoPlayerHTML5Api73('flash/finishPlayback');this.setRelativeSphericalOrientation(0,0);this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hideSubtitles();};n.prototype.$VideoPlayerHTML5Api71=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api26.currentTime.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api77=function(){'use strict';if(this.isMuted()&&!this.$VideoPlayerHTML5Api34)this.unmute();this.$VideoPlayerHTML5Api34=true;this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').VIEWPORT_ROTATED,{});};n.prototype.setRelativeSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setRelativeSphericalOrientation(o,p);};n.prototype.setSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setSphericalOrientation(o,p);};n.prototype.getSphericalViewportDimensions=function(){'use strict';return this.$VideoPlayerHTML5Api28?this.$VideoPlayerHTML5Api28.getDimensions():null;};n.prototype.isSpherical=function(){'use strict';return this.$VideoPlayerHTML5Api28!==null;};n.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getEstimatedBandwidth();return null;};n.prototype.$VideoPlayerHTML5Api69=function(){'use strict';this.$VideoPlayerHTML5Api73('flash/updateMetadata');};n.prototype.$VideoPlayerHTML5Api56=function(o){'use strict';this.emit('error',babelHelpers['extends']({},o,{isPlayback:this.$VideoPlayerHTML5Api23}));};n.prototype.$VideoPlayerHTML5Api59=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api26.error)return;var o=this.$VideoPlayerHTML5Api26.error;this.emit('error',{error:l(o.code),isPlayback:this.$VideoPlayerHTML5Api23,message:k(o.code)});};n.prototype.$VideoPlayerHTML5Api42=function(event,o){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api27)o.longest_init_response_time=this.$VideoPlayerHTML5Api27.getLongestInitResponseTime();o.player_version=c('VideoPlayerVersions').PLEASANTVILLE;o.projection=this.$VideoPlayerHTML5Api48();this.$VideoPlayerHTML5Api73('flash/logEvent',{logData:babelHelpers['extends']({event:event},o)});};n.prototype.$VideoPlayerHTML5Api73=function(event,o){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api10},o));this.emit(event.substr('flash/'.length),o);};n.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api16;};n.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api33;};n.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api19;};n.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api26.duration||0;};n.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api26.volume;};n.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api26.currentTime;};n.prototype.$VideoPlayerHTML5Api47=function(){'use strict';if(this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api6.hasHD()){return this.$VideoPlayerHTML5Api78();}else return this.$VideoPlayerHTML5Api79();};n.prototype.$VideoPlayerHTML5Api78=function(){'use strict';if(this.$VideoPlayerHTML5Api13){return this.$VideoPlayerHTML5Api6.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api6.getPlayableSrcHD();};n.prototype.$VideoPlayerHTML5Api79=function(){'use strict';if(this.$VideoPlayerHTML5Api13){return this.$VideoPlayerHTML5Api6.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api6.getPlayableSrcSD();};n.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api32=!this.$VideoPlayerHTML5Api32;if(this.$VideoPlayerHTML5Api32){this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.showSubtitles();}else this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hideSubtitles();this.emit('toggleSubtitles');};n.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api6.hasSubtitles();};n.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api32;};n.prototype.areHLSActive=function(){'use strict';};n.prototype.isRTMP=function(){'use strict';};n.prototype.$VideoPlayerHTML5Api76=function(){'use strict';if(this.$VideoPlayerHTML5Api32){this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.showSubtitles();}else this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hideSubtitles();};n.prototype.$VideoPlayerHTML5Api57=function(){'use strict';if(this.$VideoPlayerHTML5Api11)this.$VideoPlayerHTML5Api76();this.emit('loadedSubtitles');};n.prototype.$VideoPlayerHTML5Api80=function(){'use strict';if(this.$VideoPlayerHTML5Api28){this.$VideoPlayerHTML5Api28.freeze();return;}var o;if(!this.$VideoPlayerHTML5Api29){var p=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api26),q=c('DOM').create('canvas',{width:p.width,height:p.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api26,q);this.$VideoPlayerHTML5Api29=o=new (c('VideoFrameBuffer'))(q,this.$VideoPlayerHTML5Api26);}else o=this.$VideoPlayerHTML5Api29;c('CSS').show(o.getDOMNode());o.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api26);};n.prototype.$VideoPlayerHTML5Api45=function(){'use strict';if(this.$VideoPlayerHTML5Api28){this.$VideoPlayerHTML5Api28.unfreeze();return;}if(!this.$VideoPlayerHTML5Api29)return;c('CSS').hide(this.$VideoPlayerHTML5Api29.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api26);};n.prototype.$VideoPlayerHTML5Api51=function(){'use strict';var o=this.$VideoPlayerHTML5Api1;if(!o)return;if(this.$VideoPlayerHTML5Api14)return;this.$VideoPlayerHTML5Api14=true;this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.reload(o.currentTime);}else{this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();this.$VideoPlayerHTML5Api26.preload=o.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api26,o.currentTime,function(){this.$VideoPlayerHTML5Api45();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api26.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;}this.$VideoPlayerHTML5Api14=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api26,function(){return this.$VideoPlayerHTML5Api53();}.bind(this));}.bind(this));};n.prototype.abortLoading=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api80();var o=this.$VideoPlayerHTML5Api26.currentTime,p=this.isMuted(),q=this.$VideoPlayerHTML5Api26.duration,r=this.$VideoPlayerHTML5Api26.paused,s=this.$VideoPlayerHTML5Api26.preload;this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api1={mutedState:p,currentTime:o,playbackDuration:q,preload:s};if(r&&this.$VideoPlayerHTML5Api11)c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'pause');if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.unload();return;}this.$VideoPlayerHTML5Api26.preload='none';this.$VideoPlayerHTML5Api26.removeAttribute('src');this.$VideoPlayerHTML5Api26.load();};n.prototype.setPreferredVideoQuality=function(o){'use strict';this.$VideoPlayerHTML5Api24=o;if(!this.$VideoPlayerHTML5Api6)return;if(this.$VideoPlayerHTML5Api27&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api27.setPreferredVideoQuality(o);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api27&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api27.setPreferredVideoQuality(o);return;}this.$VideoPlayerHTML5Api12=!this.$VideoPlayerHTML5Api12;var p=this.$VideoPlayerHTML5Api26.currentTime;this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api26,function(){this.$VideoPlayerHTML5Api26.currentTime=p;this.$VideoPlayerHTML5Api53();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api23=true;this.$VideoPlayerHTML5Api55();};n.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api24=null;if(this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api27.unsetPreferredVideoQuality();};n.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api24;};n.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api12?'HD':'SD';};n.prototype.getAvailableVideoQualities=function(){'use strict';if(!this.$VideoPlayerHTML5Api6)return [];if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api6.hasHD()?['SD','HD']:['SD'];};n.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.canAutoSelectVideoQuality();return false;};n.prototype.$VideoPlayerHTML5Api44=function(){'use strict';var o={projectionType:this.$VideoPlayerHTML5Api48(),fieldOfView:this.$VideoPlayerHTML5Api5.sphericalFieldOfView,expansionCoef:1.01},p={videoID:this.getVideoID()};if(this.$VideoPlayerHTML5Api5.sphericalConfig)Object.assign(o,this.$VideoPlayerHTML5Api5.sphericalConfig);try{this.$VideoPlayerHTML5Api28=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical(this.$VideoPlayerHTML5Api26,o,p);}catch(q){c('setImmediate')(function(){return this.emit('error',{error:'SPHERICAL_SETUP_FAILED',message:q.message});}.bind(this));}if(this.$VideoPlayerHTML5Api28){var r=this.$VideoPlayerHTML5Api28;r.addListener('DOM/click',function(s){return this.$VideoPlayerHTML5Api68(s);}.bind(this));r.addListener('updateViewportBegin',function(){return this.$VideoPlayerHTML5Api77();}.bind(this));['updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','error'].forEach(c('forwardEvent').bind(null,r,this));if(!this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();}};n.getPlayerVersion=function(){'use strict';return 'pleasantville';};n.prototype.$VideoPlayerHTML5Api48=function(){'use strict';return this.$VideoPlayerHTML5Api6.getProjection();};n.prototype.$VideoPlayerHTML5Api53=function(){'use strict';if(this.$VideoPlayerHTML5Api23){if(this.$VideoPlayerHTML5Api2)var o=c('EventListener').capture(this.$VideoPlayerHTML5Api26.parentNode,'play',function(q){c('Event').kill(q);o.remove();});var p=null;if(this.$VideoPlayerHTML5Api27){p=this.$VideoPlayerHTML5Api27.play();}else p=this.$VideoPlayerHTML5Api26.play();if(p&&p['catch'])p['catch'](function(q){return false;});}this.$VideoPlayerHTML5Api54();};n.getStreamTypeFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.getStreamType();};n.getIsPlayingLiveFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isLiveStream();};n.networkTimeout=5000;f.exports=n;}),null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerAbortLoadingExperiment','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase6=[];this.$VideoAutoplayControllerBase1=i;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerBase6=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null;}this.$VideoAutoplayControllerBase5.release();}.bind(this));}h.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase6;};h.prototype.setVideoUnits=function(i){'use strict';this.$VideoAutoplayControllerBase6=i;};h.prototype.addVideoUnit=function(i){'use strict';this.$VideoAutoplayControllerBase6.push(i);};h.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase3;};h.prototype.setPlayingVideoUnit=function(i){'use strict';this.$VideoAutoplayControllerBase3=i;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions();};h.prototype.playVideo=function(i,j){'use strict';this.setPlayingVideoUnit(i);if(this.$VideoAutoplayControllerBase3)this.$VideoAutoplayControllerBase3.playWithoutUnmute(j);};h.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden');};h.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c('Event').listen(window,'resize',this.updateAutoplay.bind(this)),c('Event').listen(window,'blur',this.$VideoAutoplayControllerBase7.bind(this)),c('Event').listen(window,'focus',this.$VideoAutoplayControllerBase8.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoAutoplayControllerBase7.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoAutoplayControllerBase8.bind(this)),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase9())this.$VideoAutoplayControllerBase10();}};h.prototype.$VideoAutoplayControllerBase7=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.pausePlayingVideo(c('VideoPlayerReason').PAGE_VISIBILITY);}};h.prototype.$VideoAutoplayControllerBase8=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null;}};h.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=c('Event').listen(window,'scroll',c('throttle')(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase1));};h.prototype.$VideoAutoplayControllerBase9=function(){'use strict';return !!this.$VideoAutoplayControllerBase4;};h.prototype.getClosestVideoUnits=function(i){'use strict';return this.$VideoAutoplayControllerBase6.filter(function(j){return j.getDistanceToViewport()>=0;}).sort(function(j,k){return (j.getDistanceToViewport()-k.getDistanceToViewport());}).slice(0,i);};h.prototype.getVisibleUnits=function(){'use strict';var i=[];this.$VideoAutoplayControllerBase6.forEach(function(j){if(j.isVisible()){i.push(j);if(!j.wasVisible){j.wasVisible=true;j.logDisplayed();}}else j.wasVisible=false;});return i;};h.prototype.pausePlayingVideo=function(i){'use strict';var j=this.$VideoAutoplayControllerBase3;if(j){j.pause(i);if(c('VideoPlayerAbortLoadingExperiment').canAbort&&!j.getIsInChannel())j.abortLoading();this.$VideoAutoplayControllerBase3=null;}};h.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden');};f.exports=h;}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/",{});}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{});}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{});}),null);
__d('VideoAutoplayControllerX',['csx','AsyncRequest','DOM','Event','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerExperiments','VideoPlayerPreloadExperiment','VideoPlayerReason','XVideoAutoplayNuxAsyncController','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','destroyOnUnload','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=null,l=500;i=babelHelpers.inherits(m,c('VideoAutoplayControllerBase'));j=i&&i.prototype;function m(){'use strict';j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX2=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX3=true;this.$VideoAutoplayControllerX4=null;this.$VideoAutoplayControllerX5=null;this.$VideoAutoplayControllerX6=false;this.$VideoAutoplayControllerX7=null;var n=c('XVideoAutoplayNuxAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(n).send();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerX8();if(this===k)k=null;}.bind(this));}m.registerVideoUnit=function(n){'use strict';if(k==null)k=new m();k.addSubscriberVideoUnit();k.addVideoUnit(n);if(c('VideoPlayerExperiments').enforceOnlyOneVideoPlayingWithAudio)k.$VideoAutoplayControllerX9(n);if(n.isVisible())k.updateAutoplay();};m.setShouldAutoplay=function(n){'use strict';if(k==null)k=new m();k.$VideoAutoplayControllerX3=n;k.updateAutoplay();};m.prototype.$VideoAutoplayControllerX8=function(){'use strict';this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX2.release();};m.setAutoplayNux=function(n,o){'use strict';if(k==null)return;k.$VideoAutoplayControllerX4=n;k.$VideoAutoplayControllerX5=o;k.$VideoAutoplayControllerX6=true;var p=c('DOM').find(o.getContentRoot(),"._5cqr");c('Event').listen(p,'click',function(){k.$VideoAutoplayControllerX10();});var q=c('DOM').scry(o.getContentRoot(),"._36gl")[0];if(q)c('Event').listen(q,'click',function(){k.$VideoAutoplayControllerX10();});};m.prototype.$VideoAutoplayControllerX10=function(){'use strict';this.$VideoAutoplayControllerX5.hide();this.$VideoAutoplayControllerX6=false;var n=c('XVideoAutoplayNuxDismissAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(n).send();};m.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX1.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.setPlayingVideoUnit(null);}.bind(this)));this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('turnOffAutoplay',function(){this.setPlayingVideoUnit(null);}.bind(this)));}};m.prototype.$VideoAutoplayControllerX9=function(n){'use strict';if(!n.addListener)return;var o=function(){var p=n.getVideoPlayerController();if(!p.isMuted()&&p.isState('playing')){if(this.$VideoAutoplayControllerX7&&this.$VideoAutoplayControllerX7!==n){var q=this.$VideoAutoplayControllerX7.getVideoPlayerController(),r=q.getOption('VideoWithLiveBroadcast','isLive');if(r){q.mute();}else q.pause(c('VideoPlayerReason').USER);}this.$VideoAutoplayControllerX7=n;}}.bind(this);this.$VideoAutoplayControllerX2.addSubscriptions(n.addListener('beginPlayback',o),n.addListener('changeVolume',o),n.addListener('unmuteVideo',o));};m.prototype.showAutoplayNUX=function(n){'use strict';if(this.$VideoAutoplayControllerX5&&!this.$VideoAutoplayControllerX5.isShown()){var o=n.getVideoPlayerController().getRootNode();c('DOM').prependContent(o,this.$VideoAutoplayControllerX4);this.$VideoAutoplayControllerX5.show();var p=c('XVideoAutoplayNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).send();}this.$VideoAutoplayControllerX6=false;};m.getChannelVideos=function(){'use strict';if(k)return k.getVideoUnits().filter(function(n){return n.getIsInChannel();});return null;};m.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX3){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);return;}var n=this.getVisibleUnits();this.getClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount).forEach(function(r){return r.preload();});var o=n.length,p=null;if(o==1){p=n[0];p=p.isAutoplayable()?p:null;}else if(o>1){var q=c('getViewportDimensions')().height/2;n.forEach(function(r){if(!r.isAutoplayable())return;var s=r.getDOMPosition(),t=s.y+s.height/2,u=Math.abs(t-q);r.playPriority=u;if(!p||r.playPriority<p.playPriority)p=r;});}if(this.getPlayingVideoUnit()){if(p!=this.getPlayingVideoUnit()){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX6)this.showAutoplayNUX(p);}}else if(p){this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX6)this.showAutoplayNUX(p);}};f.exports=m;}),null);
__d('VideoAutoplayPlayerBase',['EventEmitter'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);}j.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden');};j.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden');};j.prototype.playWithoutUnmute=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.pause=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden');};j.prototype.isLooping=function(){'use strict';throw new Error('Should be overridden');};f.exports=j;}),null);
__d('VideoCTAEndscreen',['cx','Arbiter','AttachmentRelatedShareConstants','CSS','Event','Focus','SubscriptionsHandler','VideoPlayerReason','VideoPlayerLoggerEvent','logVideosClickTracking'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$VideoCTAEndscreen1=j;this.$VideoCTAEndscreen2=k.endscreenElement;this.$VideoCTAEndscreen3=k.replayElement;this.$VideoCTAEndscreen4=k.ctaElement;this.$VideoCTAEndscreen5=k.isPausescreen;this.$VideoCTAEndscreen6=new (c('SubscriptionsHandler'))();this.$VideoCTAEndscreen6.addSubscriptions(c('Event').listen(this.$VideoCTAEndscreen3,'click',function(){return this.$VideoCTAEndscreen7();}.bind(this)),j.addListener('beginPlayback',function(){return this.$VideoCTAEndscreen8();}.bind(this)),j.addListener('VideoChannelController/exitChannel',function(){if(j.isState('finished'))this.$VideoCTAEndscreen9();}.bind(this)));if(this.$VideoCTAEndscreen4)this.$VideoCTAEndscreen6.addSubscriptions(c('Event').listen(this.$VideoCTAEndscreen4,'click',function(){return this.$VideoCTAEndscreen10();}.bind(this)));if(this.$VideoCTAEndscreen5){this.$VideoCTAEndscreen6.addSubscriptions(j.addListener('pausePlayback',function(){return this.$VideoCTAEndscreen11();}.bind(this)));}else this.$VideoCTAEndscreen6.addSubscriptions(j.addListener('finishPlayback',function(){return this.$VideoCTAEndscreen9();}.bind(this)));}i.prototype.$VideoCTAEndscreen7=function(){'use strict';var j={reason:c('VideoPlayerReason').USER};this.$VideoCTAEndscreen1.clickVideo();var k=this.$VideoCTAEndscreen1.getVideoNode();if(this.$VideoCTAEndscreen1.isState('paused')){this.$VideoCTAEndscreen1.logEvent(c('VideoPlayerLoggerEvent').UNPAUSED,j);}else if(this.$VideoCTAEndscreen1.isState('finished'))this.$VideoCTAEndscreen1.logEvent(c('VideoPlayerLoggerEvent').REPLAYED,j);c('logVideosClickTracking')(k);c('Focus').set(k);};i.prototype.$VideoCTAEndscreen10=function(){'use strict';c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:this.$VideoCTAEndscreen1.getRootNode(),fbvideo_id:this.$VideoCTAEndscreen1.getVideoID()});};i.prototype.$VideoCTAEndscreen9=function(){'use strict';if(!this.$VideoCTAEndscreen1.getIsInChannel())this.$VideoCTAEndscreen11();};i.prototype.$VideoCTAEndscreen11=function(){'use strict';c('CSS').addClass(this.$VideoCTAEndscreen2,"_1qbf");};i.prototype.$VideoCTAEndscreen8=function(){'use strict';c('CSS').removeClass(this.$VideoCTAEndscreen2,"_1qbf");};f.exports=i;}),null);
__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();function k(n){return {getDataFromConfig:function o(p,q){q.log=p.log;},getAllStories:function o(){var p=c('DOM').scry(n.container,"._5bll");return p.filter(function(q){return q.getAttribute('data-home-vpv');});},getStoryID:function o(p){var q=JSON.parse(p.getAttribute('data-home-vpv'));return q.storyID;},getDataToLog:function o(p){return JSON.parse(p.getAttribute('data-home-vpv'));}};}i=babelHelpers.inherits(l,c('ViewportTracking'));j=i&&i.prototype;l.prototype.sendDataToLog=function(n,o){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;p[c('VideoHomeLoggerFields').SESSION_ID]=o.sessionID;p[c('VideoHomeLoggerFields').DATA_SOURCE]=o.dataSource;p[c('VideoHomeLoggerFields').CHANNEL_ID]=o.channelID;p[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;p[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=o.storyID;p[c('VideoHomeLoggerFields').CHANNEL_POSITION]=o.channelPosition;p[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=o.positionInChannel;p[c('VideoHomeLoggerFields').TRACKING_DATA]=o.trackingData;this.log&&this.log(p);};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this);};function l(){i.apply(this,arguments);}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n));o.init(n);return o;});f.exports=m;}),null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0,j=void 0,k=0,l={init:function m(n){j=n.session_id;k=Date.now();var o=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),n.container);i=o;var p=c('VideoHomeViewportTracking').factory({log:l.log,container:n.container,record_delay:0});h=p;c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;if(t){t.subscribe(c('BigPipe').Events.tti,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});t.subscribe(c('BigPipe').Events.loaded,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});}});function q(){if(j!==n.session_id)return;var r={};r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;r[c('VideoHomeLoggerFields').SESSION_ID]=j;r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').UNKNOWN;l.log(r);o.updateTimeTrackingData(true);p.updateTimeTrackingData(true);j=null;i=null;h=null;}c('Run').onLeave(q);c('Banzai').subscribe(c('Banzai').SHUTDOWN,q);},updateViewportTracking:function m(){if(i){i.fireTimer();i.updateTimeTrackingData(false,'scroll');}if(h){h.fireTimer();h.updateTimeTrackingData(false,'scroll');}},_pause:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},_resume:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},getPlayerLoggingData:function m(){return {video_home_session_id:j};},log:function m(n){if(j&&k){var o=Date.now()-k;n[c('VideoHomeLoggerFields').TIME_SINCE_START]=o+.001;}c('BanzaiLogger').log('VideoHomeLoggerConfig',n);}};c('Arbiter').subscribe('LogEnterChannel',l._pause);c('Arbiter').subscribe('LogExitChannel',l._resume);f.exports=l;}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','TimeSpentImmediateActiveSecondsLogger','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,i='video_player';function j(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}function k(l,m){'use strict';this.$VideoPlayerLogger1=l;this.$VideoPlayerLogger2=null;this.$VideoPlayerLogger3={};this.$VideoPlayerLogger4=m;this.$VideoPlayerLogger5=0;this.$VideoPlayerLogger6=[];this.$VideoPlayerLogger7();}k.prototype.updateSource=function(l){'use strict';this.$VideoPlayerLogger1=l;};k.prototype.getSource=function(){'use strict';return this.$VideoPlayerLogger1;};k.prototype.logEvent=function(event,l){'use strict';l=babelHelpers['extends']({},l,this.$VideoPlayerLogger4);l.initial_event=!this.$VideoPlayerLogger3.hasOwnProperty(event);if(!l.hasOwnProperty('time_ms'))l.time_ms=j();if(!l.hasOwnProperty('time'))l.time=Math.round(l.time_ms/1000);l.is_stalling=this.$VideoPlayerLogger8>0;l.error_user_info=this.$VideoPlayerLogger9(l.error_user_info);if(this.$VideoPlayerLogger2)Object.assign(l,this.$VideoPlayerLogger2);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger10=l.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!l.initial_event)break;l.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger10;break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger7();this.$VideoPlayerLogger11();if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){l.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else l.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').UNPAUSED)this.$VideoPlayerLogger6=[];if(event===c('VideoPlayerLoggerEvent').ERROR&&l.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){l.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else l.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger12();if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)this.$VideoPlayerLogger13(l);this.$VideoPlayerLogger14();this.$VideoPlayerLogger15(l);this.$VideoPlayerLogger7();break;}var m={logData:l,event:event,scriptPath:this.$VideoPlayerLogger16,source:this.$VideoPlayerLogger1};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger3[event]=true;if(this.$VideoPlayerLogger1===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return;if(l.ad_client_token||h&&l.playback_is_live_streaming){c('Banzai').post(i,m,c('Banzai').VITAL);}else c('Banzai').post(i,m);if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING||event===c('VideoPlayerLoggerEvent').PAUSED){var n=l.time_ms||j(),o=l.video_time_position-l.video_last_start_time_position;if(o>=0)c('TimeSpentImmediateActiveSecondsLogger').maybeReportActiveInterval('video',n-Math.floor(o*1000),n);}};k.prototype.setScriptPath=function(l){'use strict';this.$VideoPlayerLogger16=l;};k.prototype.setFTData=function(l){'use strict';this.$VideoPlayerLogger2=l;};k.prototype.startBuffering=function(l){'use strict';this.$VideoPlayerLogger11(l);};k.prototype.endBuffering=function(){'use strict';this.$VideoPlayerLogger12();this.$VideoPlayerLogger14();};k.prototype.$VideoPlayerLogger11=function(l){'use strict';if(this.$VideoPlayerLogger8<=0){this.$VideoPlayerLogger8=Date.now();if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]&&l!==undefined)this.$VideoPlayerLogger17=l;}};k.prototype.$VideoPlayerLogger12=function(){'use strict';if(this.$VideoPlayerLogger8>0){var l=Date.now()-this.$VideoPlayerLogger8;if(this.$VideoPlayerLogger17!==null)this.$VideoPlayerLogger18=l;this.$VideoPlayerLogger19=this.$VideoPlayerLogger19+l;this.$VideoPlayerLogger5=this.$VideoPlayerLogger5+l;this.$VideoPlayerLogger20++;}};k.prototype.$VideoPlayerLogger14=function(){'use strict';if(this.$VideoPlayerLogger8>0)this.$VideoPlayerLogger8=0;};k.prototype.$VideoPlayerLogger9=function(l){'use strict';if(l&&typeof l=='object')return JSON.stringify(l);return l;};k.prototype.getCurrentStallTime=function(){'use strict';return this.$VideoPlayerLogger5;};k.prototype.$VideoPlayerLogger15=function(l){'use strict';l.stall_time=Math.max(0,this.$VideoPlayerLogger19);l.stall_count=this.$VideoPlayerLogger20;if(this.$VideoPlayerLogger18){l.first_stall_time=this.$VideoPlayerLogger18;l.first_stall_start_position=this.$VideoPlayerLogger17;}};k.prototype.$VideoPlayerLogger13=function(l){'use strict';var m=j();for(var n=0;n<this.$VideoPlayerLogger6.length;n++)if(this.$VideoPlayerLogger6[n]<m-5000)this.$VideoPlayerLogger6.splice(n,1);if(this.$VideoPlayerLogger20>0)this.$VideoPlayerLogger6.push(m);l.recent_stalls_count=this.$VideoPlayerLogger6.length;};k.prototype.$VideoPlayerLogger7=function(){'use strict';this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger17=null;this.$VideoPlayerLogger18=0;};Object.assign(k,{Sources:c('VideoPlayerLoggerSource'),Errors:c('VideoPlayerLoggerErrors'),FallbackReasons:c('VideoPlayerLoggerFallbackReasons'),ErrorStates:c('VideoPlayerLoggerErrorStates'),PlayerStates:c('VideoPlayerLoggerPlayerStates')});f.exports=k;}),null);
__d('VideoPlayerUIComponentDrawer',['EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$VideoPlayerUIComponentDrawer1=k;this.$VideoPlayerUIComponentDrawer2=l;this.$VideoPlayerUIComponentDrawer3=false;}j.prototype.reserve=function(){this.$VideoPlayerUIComponentDrawer3=true;this.emit('reserve');};j.prototype.release=function(){this.$VideoPlayerUIComponentDrawer3=false;this.emit('release');};j.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1;};j.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2;};j.prototype.setHeight=function(k){this.$VideoPlayerUIComponentDrawer2=k;this.emit('heightChange');};j.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer3;};j.priorities={EmbeddedControls:0,ClickForMore:1,Subtitles:2,SphericalMouseAnimation:3};f.exports=j;}),null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function j(k,l){return k.getPriority()-l.getPriority();};function i(){this.$VideoPlayerUIComponentDrawerController1=[];}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('heightChange',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l;};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();});};f.exports=i;}),null);
__d('VideoPlayerVolumeSettings',['WebStorage'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.$VideoPlayerVolumeSettings1=1;this.$VideoPlayerVolumeSettings2=1;}h.prototype.getVolume=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerVolume');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings1;};h.prototype.saveVolume=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)return k.setItem('videoPlayerControllerVolume',j);this.$VideoPlayerVolumeSettings1=j;};h.prototype.getLastVolumeBeforeMute=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerLastVolumeBeforeMute');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings2;};h.prototype.saveLastVolumeBeforeMute=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)return k.setItem('videoPlayerControllerLastVolumeBeforeMute',j);this.$VideoPlayerVolumeSettings2=j;};var i=new h();f.exports=i;}),null);
__d("XVideoDataController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"}});}),null);
__d('VideoPlayerController',['cx','invariant','Promise','Arbiter','Banzai','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','FullScreen','getFullScreenElement','JSLogger','JSResource','Map','VideoPlayerReason','Run','ScriptPath','SubscriptionsHandler','VideoChannelLogger','VideoChannelViewChainLengthManager','VideoHomeLogger','VideoMimeTypes','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerResizeSettings','VideoPlayerUIComponentDrawer','VideoPlayerUIComponentDrawerController','VideosRenderingInstrumentation','VideoPlayerVolumeSettings','Visibility','XVideoDataController','arrayContains','canVideoPlayType','collectDataAttributes','enumerate','forwardEvent','getElementPosition','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=5,m=1;function n(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}j=babelHelpers.inherits(o,c('EventEmitter'));k=j&&j.prototype;function o(p,q){var r=p.video_ids,s=p.video_urls,t=p.chaining_token,u=p.video_channel_id,v=p.source,w=p.ad_client_token,x=p.should_autoplay,y=p.player_version,z=p.autoplay_setting,aa=p.apiModule,ba=p.apiConfig,ca=p.useInlineFallback,da=p.accessToken,ea=p.loggingToken,fa=p.projection,ga=p.playerOrigin,ha=p.isBroadcast,ia=p.components,ja=p.tvSessionID,ka=q.root_element,la=q.container_element,ma=q.video_element;'use strict';k.constructor.call(this);if(x===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController2=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController3=new (c('Map'))();this.$VideoPlayerController4=fa;this.$VideoPlayerController5=0;this.$VideoPlayerController6=da;this.$VideoPlayerController7=ea;this.$VideoPlayerController8=x;this.$VideoPlayerController9=z;this.$VideoPlayerController10=w;this.$VideoPlayerController11=ma;this.$VideoPlayerController12=ka;this.$VideoPlayerController13=la;this.$VideoPlayerController14=false;this.$VideoPlayerController15=y;this.$VideoPlayerController16=r;this.$VideoPlayerController17=s;this.$VideoPlayerController18=t;this.$VideoPlayerController19=u;this.$VideoPlayerController20={};this.$VideoPlayerController21=new (c('Map'))();this.$VideoPlayerController22=ga;this.$VideoPlayerController23=ha;this.$VideoPlayerController24=ja;this.$VideoPlayerController25=aa;this.$VideoPlayerController26=ba;this.$VideoPlayerController27=this.$VideoPlayerController25.getStreamTypeFromConfig(this.$VideoPlayerController26);this.$VideoPlayerController28=this.$VideoPlayerController25.getIsPlayingLiveFromConfig(this.$VideoPlayerController26);this.$VideoPlayerController29=ca;this.$VideoPlayerController30=0;this.$VideoPlayerController31=null;this.$VideoPlayerController32=null;this.$VideoPlayerController33=v;this.$VideoPlayerController34=new (c('VideoPlayerLogger'))(v);if(this.$VideoPlayerController33===c('VideoPlayerLoggerSource').CHANNEL)this.setIsInChannel(true);this.collectFeedTrackingData();this.$VideoPlayerController34.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController35=c('VideosRenderingInstrumentation').retrieveRenderTime(this.$VideoPlayerController12);this.$VideoPlayerController36=n()-this.$VideoPlayerController35;if(this.$VideoPlayerController26)this.$VideoPlayerController26.subtitleDrawer=this.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.Subtitles,0);this.$VideoPlayerController37='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController35});this.$VideoPlayerController38=false;if(this.$VideoPlayerController25.isImplementationUnavailable(this.$VideoPlayerController29)){if(this.$VideoPlayerController29){this.$VideoPlayerController39();}else{this.$VideoPlayerController40();return;}}else this.$VideoPlayerController41();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause('unloaded');this.destroy();}.bind(this));if(this.$VideoPlayerController8)if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){this.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this));}else this.play(c('VideoPlayerReason').AUTOPLAY);this.$VideoPlayerController42=0;this.$VideoPlayerController43=false;this.$VideoPlayerController44=new (c('SubscriptionsHandler'))();this.$VideoPlayerController44.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(na,oa){if(oa.type==='DialogX'||oa.type==='PhotoSnowlift'){this.$VideoPlayerController42=this.$VideoPlayerController42+1;if(this.$VideoPlayerController42>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController43=true;}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(na,oa){if(oa.type==='DialogX'||oa.type==='PhotoSnowlift'){this.$VideoPlayerController42=this.$VideoPlayerController42-1;if(this.$VideoPlayerController42===0)if(this.$VideoPlayerController43&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController43=false;}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(na,oa){return this.$VideoPlayerController45(na,oa);}.bind(this)));c('Run').onLeave(function(){this.pause('unloaded');this.destroy();}.bind(this));this.$VideoPlayerController1=ia||[];this.$VideoPlayerController1.forEach(function(na){return na.enable(this);}.bind(this));}o.prototype.destroy=function(){'use strict';if(this.isState('destroyed'))return;var p=this.$VideoPlayerController1;for(var q=p.length-1;q>=0;q--)p[q].disable(this);this.abortLoading();this.setState('destroyed');this.$VideoPlayerController44.release();this.removeAllListeners();};o.prototype.$VideoPlayerController46=function(){'use strict';var p=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!p.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),p[0]);this.$VideoPlayerController11=p[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load();};o.prototype.$VideoPlayerController39=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController46().then(function(p){if(p.isImplementationUnavailable()){return c('Promise').reject();}else return c('Promise').resolve(p);}).done(function(p){this.$VideoPlayerController25=p;this.$VideoPlayerController41();}.bind(this),function(p){return this.$VideoPlayerController40();}.bind(this));};o.prototype.collectFeedTrackingData=function(){'use strict';this.$VideoPlayerController34.setFTData(c('collectDataAttributes')(this.getRootNode(),['ft']));};o.prototype.$VideoPlayerController45=function(p,q){'use strict';q.video_player_debug_info=q.video_player_debug_info||{};q.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();q.video_hardware_info=this.$VideoPlayerController47();};o.prototype.$VideoPlayerController47=function(){'use strict';try{var q=document.createElement('canvas'),r=q.getContext('webgl')||q.getContext('experimental-webgl'),s=r.getExtension('WEBGL_debug_renderer_info');return s&&{vendor:r.getParameter(s.UNMASKED_VENDOR_WEBGL),renderer:r.getParameter(s.UNMASKED_RENDERER_WEBGL)};}catch(p){}return null;};o.prototype.setRelativeSphericalOrientation=function(p,q){'use strict';this.getVideoAPI().setRelativeSphericalOrientation(p,q);};o.prototype.setSphericalOrientation=function(p,q){'use strict';this.getVideoAPI().setSphericalOrientation(p,q);};o.prototype.getSphericalViewportDimensions=function(){'use strict';return this.getVideoAPI().getSphericalViewportDimensions();};o.prototype.isSpherical=function(){'use strict';return this.getVideoAPI().isSpherical();};o.prototype.setLogEntryPropertyGetters=function(p){'use strict';Object.keys(p).forEach(function(q){var r=p[q];if(typeof r==='function'){this.$VideoPlayerController21.set(q,r);}else this.$VideoPlayerController20[q]=r;}.bind(this));};o.prototype.removeLogEntryPropertyGetters=function(p){'use strict';if(typeof p==='string')p=[p];if(!Array.isArray(p))p=Object.keys(p);p.forEach(function(q){this.$VideoPlayerController21['delete'](q);delete this.$VideoPlayerController20[q];}.bind(this));};o.prototype.$VideoPlayerController41=function(){'use strict';this.$VideoPlayerController25.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};o.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController25.isImplementationUnavailable(this.$VideoPlayerController29)&&!this.$VideoPlayerController29;};o.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController48;};o.prototype.setIsInChannel=function(p){'use strict';if(p&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController33){this.$VideoPlayerController34.updateSource(c('VideoPlayerLoggerSource').CHANNEL);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}else if(!p&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController33){this.$VideoPlayerController34.updateSource(this.$VideoPlayerController33);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}this.$VideoPlayerController48=p;};o.prototype.getSource=function(){'use strict';return this.$VideoPlayerController34.getSource();};o.prototype.$VideoPlayerController40=function(){'use strict';var p={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,p);this.$VideoPlayerController8=false;};o.prototype.$VideoPlayerController49=function(p){'use strict';var q=p.error,r=p.message,s=p.isPlayback,t=p.httpStatus,u=p.url,v={error:q,error_description:r,error_user_info:this.getDebugInfo(),error_code:t,resource_url:u,state:s?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,v);if(s&&this.$VideoPlayerController38)this.$VideoPlayerController38=false;};o.prototype.setRotation=function(p){'use strict';this.getVideoAPI().setRotation(p);};o.prototype.setDimensions=function(p,q){'use strict';this.$VideoPlayerController13.style.width=p+'px';this.$VideoPlayerController13.style.height=q+'px';this.$VideoPlayerController11.style.width=p+'px';this.$VideoPlayerController11.style.height=q+'px';if(this.isState('loading')){this.$VideoPlayerController50={width:p,height:q};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController51||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(p,q);}};o.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController38;};o.prototype.play=function(p){'use strict';this.$VideoPlayerController52();if(!this.$VideoPlayerController53)this.$VideoPlayerController53=p;if(!this.$VideoPlayerController38){this.$VideoPlayerController32=this.$VideoPlayerController54();var q=this.$VideoPlayerController55({debug_reason:p});this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,q);}this.emit('playRequested',p);this.sendPlayRequest(p);};o.prototype.sendPlayRequest=function(p){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerController38=true;if(this.isState('loading')){this.$VideoPlayerController56={reason:p};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController57)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController57=false;if(c('VideoPlayerExperiments').universalVolume&&(p===c('VideoPlayerReason').AUTOPLAY||p===c('VideoPlayerReason').USER)&&this.$VideoPlayerController33!==c('VideoPlayerLoggerSource').LIVE_MAP&&!this.getVideoAPI().isMuted()){var q=c('VideoPlayerVolumeSettings').getVolume();if(q!==0){this.setVolume(q);}else{this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(!this.getVideoAPI().isMuted())this.mute();}}this.getVideoAPI().play(p);}};o.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController53;};o.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.resetPositions();this.$VideoPlayerController58();if(this.$VideoPlayerController59&&this.$VideoPlayerController59.destroy)this.$VideoPlayerController59.destroy();this.$VideoPlayerController59=null;this.setState('loading');this.$VideoPlayerController41();};o.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController12);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController25.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController60();}.bind(this));};o.prototype.getVideoAPI=function(){'use strict';return this.$VideoPlayerController59;};o.prototype.getVideoNode=function(){'use strict';return this.$VideoPlayerController11;};o.prototype.getRootNode=function(){'use strict';return this.$VideoPlayerController12;};o.prototype.$VideoPlayerController60=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController57=!this.getVideoAPI().isMuted();this.$VideoPlayerController61=this.getVideoAPI().areSubtitlesActive();if(this.$VideoPlayerController56){this.sendPlayRequest(this.$VideoPlayerController56.reason);this.$VideoPlayerController56=null;}if(this.$VideoPlayerController50){this.setDimensions(this.$VideoPlayerController50.width,this.$VideoPlayerController50.height);this.$VideoPlayerController50=null;}if(this.$VideoPlayerController62){this.getVideoAPI().unmute();this.$VideoPlayerController62=null;}};o.prototype.onApiReady=function(p){'use strict';this.$VideoPlayerController59=new this.$VideoPlayerController25(this.getVideoNode(),this.$VideoPlayerController26);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController63();this.$VideoPlayerController60();var q={is_auto_played:this.isAutoplayable()};if(p)q.init_delay=p;this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,q);};o.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController30=0;};o.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var p=this.getVideoAPI().getCurrentTimePosition();if(p!=null&&p!==undefined)this.$VideoPlayerController30=p;}return this.$VideoPlayerController30;};o.prototype.$VideoPlayerController52=function(){'use strict';if(!this.$VideoPlayerController64){var p=this.getOption('VideoWithClickToChannelView','isChannelEligible');c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController18);var q=this.getVideoID();if(this.$VideoPlayerController18){var r=this.$VideoPlayerController18.decode();q=r.root_id;}this.$VideoPlayerController64=c('VideoChannelViewChainLengthManager').getLoggingData(q);}this.$VideoPlayerController65=c('VideoChannelLogger').getPlayerLoggingData();};o.prototype.$VideoPlayerController66=function(p){'use strict';this.$VideoPlayerController38=false;var q=p.position;if(q!==undefined)this.$VideoPlayerController30=q;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController67();}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController68();};o.prototype.$VideoPlayerController69=function(p){'use strict';var q=p.position;if(q!==undefined)this.$VideoPlayerController30=q;this.$VideoPlayerController31=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();};o.prototype.$VideoPlayerController70=function(p){'use strict';var event=p.event;delete p.event;this.logEvent(event,p);};o.prototype.$VideoPlayerController71=function(){'use strict';if(!this.isState('finished'))this.setState('paused');};o.prototype.$VideoPlayerController72=function(p){'use strict';var q=p.position;if(q!==undefined)this.$VideoPlayerController30=q;};o.prototype.$VideoPlayerController73=function(){'use strict';this.setState('finished');this.$VideoPlayerController43=false;};o.prototype.getVideosCount=function(){'use strict';return this.$VideoPlayerController16.length;};o.prototype.$VideoPlayerController74=function(){'use strict';var p=this.getVideosCount();return (this.$VideoPlayerController5+1)%p;};o.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};o.prototype.$VideoPlayerController75=function(){'use strict';var p=this.isFullscreen();c('CSS').conditionClass(this.$VideoPlayerController13,"_1hwh",p);c('CSS').conditionClass(this.$VideoPlayerController13,"_52fb",p);if(!p&&this.$VideoPlayerController76){this.$VideoPlayerController76.unsubscribe();this.$VideoPlayerController76=null;}if(this.$VideoPlayerController51!=p){this.logEvent(p?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerController13);if(!this.isPlayerVersion('silvercity'))this.$VideoPlayerController59.setDimensions(q.width,q.height);this.emit('toggleFullscreen');c('Arbiter').inform('video_fullscreen_change',{});}this.$VideoPlayerController51=p;};o.prototype.isFullscreen=function(){'use strict';return c('FullScreen').isFullScreen()&&this.$VideoPlayerController13===c('getFullScreenElement')();};o.prototype.toggleFullscreen=function(){'use strict';if(c('FullScreen').toggleFullScreen(this.$VideoPlayerController13)){c('CSS').addClass(this.$VideoPlayerController13,"_1hwh");this.$VideoPlayerController76=c('FullScreen').subscribe('changed',this.$VideoPlayerController75.bind(this));}};o.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.$VideoPlayerController13,"_24pm");this.emit('instreamVideo/start');};o.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerController13,"_24pm");this.emit('instreamVideo/end');};o.prototype.$VideoPlayerController77=function(){'use strict';var p=this.getVideosCount();return (this.$VideoPlayerController5-1+p)%p;};o.prototype.$VideoPlayerController78=function(p){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').CAROUSEL_CHANGE,{source_index:this.$VideoPlayerController5,target_index:p});this.getVideoAPI().switchVideo(p);this.$VideoPlayerController5=p;this.emit('switchVideo');};o.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();if(c('VideoPlayerExperiments').universalVolume)this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController61&&this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();}else this.$VideoPlayerController62=true;};o.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};o.prototype.mute=function(){'use strict';if(this.$VideoPlayerController61&&!this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0);};o.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};o.prototype.nextVideo=function(){'use strict';this.$VideoPlayerController78(this.$VideoPlayerController74());};o.prototype.previousVideo=function(){'use strict';this.$VideoPlayerController78(this.$VideoPlayerController77());};o.prototype.getVideoIndex=function(){'use strict';return this.$VideoPlayerController5;};o.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController16[this.getVideoIndex()];};o.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController19;};o.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController17[this.getVideoIndex()];};o.prototype.$VideoPlayerController63=function(){'use strict';var p=this.$VideoPlayerController59;this.$VideoPlayerController79=new (c('SubscriptionsHandler'))();var q=[['buffered',function(){return this.setBuffering(false);}.bind(this)],['buffering',function(){return this.setBuffering(true);}.bind(this)],['beginPlayback',function(r){return this.$VideoPlayerController66(r);}.bind(this)],['updateStatus',function(r){return this.$VideoPlayerController69(r);}.bind(this)],['logEvent',function(r){return this.$VideoPlayerController70(r.logData);}.bind(this)],['muteVideo',function(){return this.$VideoPlayerController80();}.bind(this)],['unmuteVideo',function(){return this.$VideoPlayerController81();}.bind(this)],['changeVolume',function(){return this.$VideoPlayerController82();}.bind(this)],['pausePlayback',function(){return this.$VideoPlayerController71();}.bind(this)],['seekEnd',function(r){return this.$VideoPlayerController72(r);}.bind(this)],['clickForTracking',function(){return c('logVideosClickTracking')(this.getVideoNode());}.bind(this)],['error',function(r){return this.$VideoPlayerController49(r);}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerController73();}.bind(this)]];this.$VideoPlayerController79.addSubscriptions.apply(this.$VideoPlayerController79,q.map(function(r){return p.addListener.apply(p,r);}).concat(c('VideoPlayerApiEvents').map(c('forwardEvent').bind(null,p,this))));};o.prototype.$VideoPlayerController58=function(){'use strict';if(this.$VideoPlayerController79)this.$VideoPlayerController79.release();};o.prototype.seek=function(p){'use strict';this.emit('seek',{time:p});this.getVideoAPI().seek(p);};o.prototype.pause=function(p){'use strict';if(this.isState('loading')){this.$VideoPlayerController56=null;}else if(this.isState('playing')){this.getVideoAPI().pause(p);}else if(this.$VideoPlayerController38)this.getVideoAPI().pause(p);this.$VideoPlayerController38=false;this.$VideoPlayerController43=false;this.emit('pauseRequested',p);};o.prototype.isPlayerVersion=function(p){'use strict';return this.getPlayerVersion()===p;};o.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController8;};o.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController14;};o.prototype.setBuffering=function(p){'use strict';if(p!==this.$VideoPlayerController14){this.$VideoPlayerController14=p;if(this.$VideoPlayerController14){this.$VideoPlayerController34.startBuffering(this.getCurrentTimePosition());}else this.$VideoPlayerController34.endBuffering();}};o.prototype.setVolume=function(p){'use strict';c('VideoPlayerVolumeSettings').saveVolume(p);this.getVideoAPI().setVolume(p);};o.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode());};o.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController83=true;};o.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController83;};o.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController10;};o.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController10;};o.prototype.$VideoPlayerController84=function(){'use strict';var p=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController31===null)this.$VideoPlayerController31=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();p=this.getVideoAPI().getEstimatedBandwidth();}var q=this.getVideoInfo_DEPRECATED()||{},r=babelHelpers['extends']({},this.$VideoPlayerController20);this.$VideoPlayerController21.forEach(function(s,t){r[t]=s(t,this);}.bind(this));return babelHelpers['extends']({ad_client_token:this.$VideoPlayerController10,access_token:this.$VideoPlayerController6,logging_token:this.$VideoPlayerController7,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController9,projection:this.$VideoPlayerController4,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(s){return s.getVersionString();}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController37,player_origin:this.$VideoPlayerController22,playback_is_broadcast:this.$VideoPlayerController23,tv_session_id:this.$VideoPlayerController85,streaming_format:q.streamType||this.$VideoPlayerController27,video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController28,video_channel_id:this.$VideoPlayerController19,fbcdn_pop:this.$VideoPlayerController32,representation_id:this.$VideoPlayerController31,video_bandwidth:p},c('VideoHomeLogger').getPlayerLoggingData(),this.$VideoPlayerController65,this.$VideoPlayerController64,r);};o.prototype.$VideoPlayerController54=function(){'use strict';var p=this.getVideoInfo_DEPRECATED();if(!p)return null;var q=p.resourceUrl,r=/scontent-([a-z]+)\./.exec(q);if(!r)return null;return r[1];};o.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};o.prototype.getDebugInfo=function(){'use strict';var p=this.getVideoInfo_DEPRECATED(),q={initializationTime:this.$VideoPlayerController36,initializationTimestamp:this.$VideoPlayerController35,version:this.getPlayerVersion(),stallTime:this.$VideoPlayerController34.getCurrentStallTime(),state:this.$VideoPlayerController37,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType'))},r={videoID:this.getVideoID()};if(!p)return {player:q,currentVideo:r};return {currentVideo:babelHelpers['extends']({},r,{streamType:p.streamType,isLiveStream:p.isLiveStream,liveManifestUrl:p.liveManifestUrl,isHD:p.isHD,hasHD:p.hasHD,resourceUrl:p.resourceUrl,hasSubtitles:p.hasSubtitles,hasRateLimit:!!p.hasUnlimitedSrc,isRateLimited:p.hasUnlimitedSrc&&!p.useUnlimitedSrc,tagHD:p.tagHD,tagSD:p.tagSD,projection:p.projection}),player:q};};o.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};o.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};o.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};o.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP();};o.prototype.toggleSubtitles=function(){'use strict';this.getVideoAPI().toggleSubtitles();if(this.areSubtitlesActive()){this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_ON);}else this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_OFF);this.$VideoPlayerController61=false;};o.prototype.isHD=function(){'use strict';return (this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop());};o.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1;};o.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};o.prototype.setPreferredVideoQuality=function(p){'use strict';this.getVideoAPI().setPreferredVideoQuality(p);};o.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality();};o.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality();};o.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality();};o.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities();};o.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality();};o.prototype.switchToStreamType=function(p){'use strict';this.getVideoAPI().switchToStreamType(p);};o.prototype.$VideoPlayerController68=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',l).setString('source',this.$VideoPlayerController33).getURI().toString());};o.prototype.$VideoPlayerController67=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',m).setString('source',this.$VideoPlayerController33).getURI().toString());};o.prototype.$VideoPlayerController55=function(p){'use strict';var q=this.getVideoInfo_DEPRECATED();if(q!=null)return Object.assign({resource_url:q.resourceUrl,liveStream:q.isLiveStream,hd:q.isHD},p);return p;};o.prototype.$VideoPlayerController86=function(){'use strict';var p=this.getDOMPosition(),q=c('getViewportDimensions')().height,r=null;if(p.y<=0){r=p.y;}else if(p.y+p.height<q){r=0;}else r=p.y+p.height-q;return r;};o.prototype.logEvent=function(event,p){'use strict';var q=Object.assign(this.$VideoPlayerController84(),p),r=this.getOriginalPlayReason();if(r&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)q.video_play_reason=r;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)q.viewport_distance=this.$VideoPlayerController86();this.$VideoPlayerController34.logEvent(event,q);};o.prototype.getState=function(){'use strict';return this.$VideoPlayerController37;};o.prototype.setState=function(p){'use strict';if(this.isState('fallback')||this.isState('destroyed'))return;this.$VideoPlayerController37=p;if(this.$VideoPlayerController37==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController58();}this.emit('stateChange');};o.prototype.isState=function(p){'use strict';return this.$VideoPlayerController37===p;};o.prototype.abortLoading=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().abortLoading();};o.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};o.prototype.getPlayerVersion=function(){'use strict';if(this.$VideoPlayerController25.getPlayerVersion){return this.$VideoPlayerController25.getPlayerVersion();}else this.$VideoPlayerController15;};o.prototype.$VideoPlayerController80=function(){'use strict';this.emit('mute');};o.prototype.$VideoPlayerController81=function(){'use strict';this.$VideoPlayerController57=false;this.emit('unmute');};o.prototype.$VideoPlayerController82=function(){'use strict';var p=this.getVolume();this.emit('volume',{level:p});};o.prototype.registerOption=function(p,q,r,s){'use strict';if(!this.$VideoPlayerController3.has(p))this.$VideoPlayerController3.set(p,new (c('Map'))());if(this.$VideoPlayerController3.get(p).has(q))throw new Error('An option can only be registered once for each component');this.$VideoPlayerController3.get(p).set(q,{getter:r,setter:s});this.emit('optionsChange');};o.prototype.unregisterOption=function(p,q){'use strict';if(!this.$VideoPlayerController3.has(p))throw new Error('The component "'+p+'" has no options registered');var r=this.$VideoPlayerController3.get(p);if(!r.has(q))throw new Error('The component "'+p+'" has no option "'+q+'" registered');r['delete'](q);if(!r.size)this.$VideoPlayerController3['delete'](p);};o.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController3.keys();};o.prototype.getOptions=function(p){'use strict';if(this.$VideoPlayerController3.has(p))return this.$VideoPlayerController3.get(p).keys();return c('enumerate')([]);};o.prototype.hasOption=function(p,q){'use strict';if(!this.$VideoPlayerController3.has(p))return false;if(!this.$VideoPlayerController3.get(p).has(q))return false;return true;};o.prototype.getOption=function(p,q){'use strict';if(!this.hasOption(p,q))return undefined;return this.$VideoPlayerController3.get(p).get(q).getter();};o.prototype.setOption=function(p,q,r){'use strict';if(!this.$VideoPlayerController3.has(p))throw new Error('Component not registered');if(!this.$VideoPlayerController3.get(p).has(q))throw new Error('Option not registered');var s=this.$VideoPlayerController3.get(p).get(q).setter;if(s)return s(r);throw new Error('Read-only option');};o.prototype.registerDrawer=function(p,q){'use strict';return this.$VideoPlayerController2.register(p,q);};o.playerStates=['finished','loading','paused','playing','ready','destroyed','fallback'];f.exports=o;}),null);
__d('VideoWithLoopingPlayback',['VideoPlayerReason','setImmediate'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';this.$VideoWithLoopingPlayback3=i;this.$VideoWithLoopingPlayback1=true;this.$VideoWithLoopingPlayback2=1;this.$VideoWithLoopingPlayback3.addListener('finishPlayback',function(){return this.$VideoWithLoopingPlayback4(j);}.bind(this));this.$VideoWithLoopingPlayback3.registerOption('Looping','isLooping',function(){return this.$VideoWithLoopingPlayback1;}.bind(this),function(k){return this.$VideoWithLoopingPlayback5(k);}.bind(this));}h.prototype.$VideoWithLoopingPlayback5=function(i){'use strict';this.$VideoWithLoopingPlayback1=i;};h.prototype.$VideoWithLoopingPlayback4=function(i){'use strict';var j=this.$VideoWithLoopingPlayback3.getOption('FeedAutoplay','isVisibleForAutoplay'),k=this.$VideoWithLoopingPlayback3.getOption('WatchAndScroll','isActive');if((j||j===undefined)&&!k&&(this.$VideoWithLoopingPlayback2<i||i==-1)){c('setImmediate')(function(){return this.$VideoWithLoopingPlayback3.play(c('VideoPlayerReason').LOOP);}.bind(this));this.$VideoWithLoopingPlayback2++;}else this.$VideoWithLoopingPlayback3.setOption('Looping','isLooping',false);};f.exports=h;}),null);